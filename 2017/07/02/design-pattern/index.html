<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>常用设计模式 | Soul's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">常用设计模式</h1><a id="logo" href="/.">Soul's Blog</a><p class="description">世举的小屋</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">常用设计模式</h1><div class="post-meta">Jul 2, 2017<span> | </span><span class="category"><a href="/categories/Technology/">Technology</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#设计模式"><span class="toc-number">1.</span> <span class="toc-text">设计模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#六大原则"><span class="toc-number">2.</span> <span class="toc-text">六大原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单例模式"><span class="toc-number">3.</span> <span class="toc-text">单例模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单例模式通用模版"><span class="toc-number">3.1.</span> <span class="toc-text">单例模式通用模版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优点"><span class="toc-number">3.2.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#缺点"><span class="toc-number">3.3.</span> <span class="toc-text">缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#工厂模式"><span class="toc-number">4.</span> <span class="toc-text">工厂模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#工厂模式通用模版"><span class="toc-number">4.1.</span> <span class="toc-text">工厂模式通用模版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#简单工厂类"><span class="toc-number">4.2.</span> <span class="toc-text">简单工厂类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#工厂模式优点"><span class="toc-number">4.3.</span> <span class="toc-text">工厂模式优点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象工厂模式"><span class="toc-number">5.</span> <span class="toc-text">抽象工厂模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#抽象工厂通用模版"><span class="toc-number">5.1.</span> <span class="toc-text">抽象工厂通用模版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优点-1"><span class="toc-number">5.2.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#缺点-1"><span class="toc-number">5.3.</span> <span class="toc-text">缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#适配器模式"><span class="toc-number">6.</span> <span class="toc-text">适配器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#适配器模式通用模版"><span class="toc-number">6.1.</span> <span class="toc-text">适配器模式通用模版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优点-2"><span class="toc-number">6.2.</span> <span class="toc-text">优点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#观察者模式"><span class="toc-number">7.</span> <span class="toc-text">观察者模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#观察者模式通用模版"><span class="toc-number">7.1.</span> <span class="toc-text">观察者模式通用模版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优点-3"><span class="toc-number">7.2.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#缺点-2"><span class="toc-number">7.3.</span> <span class="toc-text">缺点</span></a></li></ol></li></ol></div></div><div class="post-content"><p>前两天复习了一下设计模式，包括六大设计原则和几个常用的设计模式。这里，记录一下设计模式的概念和六大原则的简要介绍，同时用java写一下不同设计模式的通用模版，供以后查阅复习所用。包括单例模式、工厂模式、抽象工厂模式、适配器模式、观察者模式。</p>
<a id="more"></a>
<h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><p>设计模式在维基百科上的定义是:</p>
<blockquote>
<p>在软件工程中，<strong>设计模式</strong>（design pattern）是对软件设计中普遍存在（反复出现）的各种问题，所提出的解决方案。这个术语是由<a href="https://zh.wikipedia.org/wiki/%E5%9F%83%E9%87%8C%E5%B8%8C%C2%B7%E4%BC%BD%E7%91%AA" target="_blank" rel="external">埃里希·伽玛</a>（Erich Gamma）等人在1990年代从建筑设计领域引入到计算机科学的。设计模式并不直接用来完成代码的编写，而是描述在各种不同情况下，要怎么解决问题的一种方案。面向对象设计模式通常以类别或对象来描述其中的关系和相互作用，但不涉及用来完成应用程序的特定类别或对象。设计模式能使不稳定依赖于相对稳定、具体依赖于相对抽象，避免会引起麻烦的紧耦合，以增强软件设计面对并适应变化的能力。</p>
</blockquote>
<p>即设计模式是一套理论，由软件界的先辈们总结出的一套可以反复使用的经验，它可以提高代码的可重用性，增强系统的可维护性，以及解决一系列的复杂问题。在软件开发过程中，我们需要分析需求，预测可能的变化，但是却无法控制变更。当需求的变更不可控时，如何更好的拥抱变化呢，于是设计模式就给出了很好的指导。首先，专家们提出了6种设计原则，设计原则主要提出了一种思想，真正付诸实施的是23种设计模式。</p>
<h3 id="六大原则"><a href="#六大原则" class="headerlink" title="六大原则"></a>六大原则</h3><p>主要包括单一职责原则、里氏替换原则、依赖倒置原则、接口隔离原则、迪米特法则、开闭原则。</p>
<p>1、单一职责原则要求一个接口或类只有一个原因引起变化，也就是一个接口或类只有一个职责，它就负责一件事情。单一职责原则的好处有：类的负责性降低；可读性提高，复杂性降低；可维护性提高；变更引起的风险降低。但是在实际使用过程中，”职责“没有一个量化的标准，因此会产生一个类到底要负责哪些职责，职责怎么细化等问题。这些问题要从实际的项目去考虑，多使用和积累经验才能有更好的设计。</p>
<p>2、里氏替换原则的通俗定义是：只要父类能出现的地方子类就可以出现，而且替换为子类也不会产生任何错误或异常，但是反过来就不行，有子类出现的地方父类未必能适应。它的优点就是使继承的优势更好的发挥。</p>
<p>3、依赖倒置原则的原始定义包含三层：1）高层模块不应该依赖底层模块，两者都应该依赖其抽象；2）抽象不应该依赖细节；3）细节应该依赖抽象。每一个逻辑的实现都是由原子逻辑组成的，不可分割的原子逻辑就是底层模块，原子逻辑的再组装就是高层模块。抽象就是接口或抽象类，细节就是实现类。在java语言中可以理解为：1）模块间的依赖通过抽象发生，实现类之间不发生直接的依赖关系，其依赖关系是通过接口或抽象类产生的；2）接口或抽象类不依赖于实现类；3）实现类依赖接口或抽象类。</p>
<p>4、接口隔离原则的原始定义为：Clients should not be forced to depend upon interfaces that they don’t use; The dependency of one class to another one should depend on the smallest possible interface.其大意是需要什么接口就定义什么接口，把不需要的删除，就是对接口进行细化，保证其纯洁性；同时要求是最小的接口，即接口细化和纯洁。</p>
<p>5、迪米特法则的意思是一个对象应该对其他的对象有最少的了解。主要包括四重含义：1）只和朋友交流，出现在成员变量、方法的输入输出参数中的类称为成员朋友类，出现在方法体内部的类不属于朋友类。2）朋友间也是有距离的，即朋友类之间不能过于亲密，大意是要求类尽量不要对外公布太多的public方法和非静态的public变量，尽量内敛，多使用private、package-private、protected等访问权限。3）是自己的就是自己的，意思是如果一个方法放在本类中，既不增加类间关系，也对本类不产生负面影响，那就放置在本类中。4）谨慎使用Serializable。因为客户端的变更需要服务器进行同步更新，如果未及时更新会报序列化失败。</p>
<p>6、开闭原则的定义是：一个软件如类、模块和函数应该对扩展开放，对修改关闭。其含义是一个软件实体应该通过扩展来实现变化，而不是通过修改已有的代码来实现变化。软件实体主要包括：项目或软件产品中按照一定的逻辑规则划分的模块；抽象和类；方法。</p>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><h4 id="单例模式通用模版"><a href="#单例模式通用模版" class="headerlink" title="单例模式通用模版"></a>单例模式通用模版</h4><p>线程安全的单例模式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton singleton = <span class="keyword">new</span> Singleton();</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span></span>&#123;</div><div class="line">	    <span class="keyword">return</span> singleton;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>线程不安全的单例模式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Singleton singleton = <span class="keyword">null</span>;</div><div class="line">  	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">if</span> (singleton == <span class="keyword">null</span>)&#123;</div><div class="line">			singleton = <span class="keyword">new</span> Singleton();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> singleton;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当需要多个对象的单例模式，需要在类中增加存放多个对象的数组，同时需要保存的有对象个数的数目，初始化时生成固定个数的对象。getInstance时可以使用随机数在数组里随机返回对象。</p>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul>
<li>内存中只有一个实例，减少了内存开支</li>
<li>只生成了一个实例，所以减少了系统的性能开销</li>
<li>可以避免对资源的多重占用，例如一个写动作文件，由于只有一个实例存在内存中，避免对同一资源文件的同时写操作</li>
<li>单例模式可以在系统设置全局的访问点，优化和共享资源访问，例如可以设计一个单例类，负责所有数据表的映射处理。</li>
</ul>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>单例模式一般没有接口，扩展困难</li>
<li>单例模式对测试不利。在并行开发环境中，如果单例模式没有完成，是不能进行测试的，没有接口也不能使用mock的方式虚拟一个对象</li>
<li>单例模式与单一职责原则有冲突。单例模式把“要单例”和业务逻辑合在一个类中</li>
</ul>
<h3 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h3><h4 id="工厂模式通用模版"><a href="#工厂模式通用模版" class="headerlink" title="工厂模式通用模版"></a>工厂模式通用模版</h4><p>抽象产品类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">void</span> method &#123;</div><div class="line">      	<span class="comment">//公共业务逻辑</span></div><div class="line">  	&#125;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>具体产品类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductA</span> <span class="keyword">extends</span> <span class="title">Product</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//产品A的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductB</span> <span class="keyword">extends</span> <span class="title">Product</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//产品B的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>抽象工厂类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory</span></span>&#123;</div><div class="line">  	<span class="comment">//创建一个产品对象，其输入参数类型可以自行设置</span></div><div class="line">  	<span class="keyword">public</span> <span class="keyword">abstract</span> &lt;T extends Product&gt; <span class="function">T <span class="title">createProduct</span><span class="params">(Class&lt;T&gt; c)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>具体工厂类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteFactory</span> <span class="keyword">extends</span> <span class="title">Factory</span></span>&#123;</div><div class="line">  	<span class="keyword">public</span> &lt;T extends Product&gt; <span class="function">T <span class="title">createProduct</span><span class="params">(Class&lt;T&gt; c)</span></span>&#123;</div><div class="line">      	Product product = <span class="keyword">null</span>;</div><div class="line">      	<span class="keyword">try</span> &#123;</div><div class="line">          	product = (Product)Class.forName(c.getName()).newInstance();</div><div class="line">      	&#125; <span class="keyword">catch</span> (Exception e)&#123;</div><div class="line">          	<span class="comment">//处理异常</span></div><div class="line">      	&#125;</div><div class="line">      	<span class="keyword">return</span> (T)product;</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>场景类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">      	<span class="comment">//生成一个具体工厂</span></div><div class="line">  		Factory factory = <span class="keyword">new</span> ConcreteFactory();</div><div class="line">  		<span class="comment">//生成产品A</span></div><div class="line">  		Product productA = factory.createProduct(ConcreteProductA.class);</div><div class="line">  		<span class="comment">//生成产品B</span></div><div class="line">  		Product productB = factory.createProduct(ConcreteProductB.class);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="简单工厂类"><a href="#简单工厂类" class="headerlink" title="简单工厂类"></a>简单工厂类</h4><p>去掉抽象工厂类，直接在工厂类生成对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory</span> </span>&#123;</div><div class="line">  	<span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Product&gt; createProduct(Class&lt;T&gt; c)&#123;</div><div class="line">      	Product product = <span class="keyword">null</span>;</div><div class="line">      	<span class="keyword">try</span> &#123;</div><div class="line">          	product = (Product)Class.forName(c.getName()).newInstance();</div><div class="line">      	&#125; <span class="keyword">catch</span> (Exception e)&#123;</div><div class="line">          	<span class="comment">//处理异常</span></div><div class="line">      	&#125;</div><div class="line">      	<span class="keyword">return</span> (T)product;</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>有时，所有的产品类都放到一个工厂方法中进行初始化会代码结构不清晰。此时可以为每个产品单独定义一个创造者，即多个具体工厂类负责生成对应的类。</p>
<h4 id="工厂模式优点"><a href="#工厂模式优点" class="headerlink" title="工厂模式优点"></a>工厂模式优点</h4><ul>
<li>良好的封装性，代码结构清晰。</li>
<li>扩展性优秀。增加产品类时，只需要修改具体的工厂类或者扩展一个工厂类即可。</li>
<li>屏蔽产品类。产品类的实现如何变化，调用者都不要关系，它只需要关心产品的接口，只要接口保持不变，系统中的上层模块就不要发生变化。</li>
<li>工厂模式是典型的解耦框架。高层模块只需要知道产品的抽象类，其他的实现类都不用关心，符合迪米特法则，不需要的就不要去交流；也符合依赖倒置原则，只依赖产品类的抽象；同时也符合里氏替换原则，使用产品子类替换父类不会又问题。</li>
</ul>
<h3 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h3><h4 id="抽象工厂通用模版"><a href="#抽象工厂通用模版" class="headerlink" title="抽象工厂通用模版"></a>抽象工厂通用模版</h4><p>抽象产品类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractProductA</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shareMethod</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//公共业务</span></div><div class="line">  	&#125;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span>；</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> class AbstractProductB &#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shareMethond</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//公共业务</span></div><div class="line">  	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>具体产品类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductA1</span> <span class="keyword">extends</span> <span class="title">AbstractProductA</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//产品A1的业务</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductA2</span> <span class="keyword">extends</span> <span class="title">AbstractProductA</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//产品A2的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductB1</span> <span class="keyword">extends</span> <span class="title">AbstractProductB</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//产品B1的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteProductB2</span> <span class="keyword">extends</span> <span class="title">AbstractProductB</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">     	<span class="comment">//产品B2的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>抽象工厂类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractFactory</span> </span>&#123;</div><div class="line">  	<span class="comment">//创建A产品家族</span></div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> AbstractProductA <span class="title">createProductA</span><span class="params">()</span></span>;</div><div class="line">  	<span class="comment">//创建B产品家族</span></div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> AbstractProductB <span class="title">createProductB</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>具体工厂类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory1</span> <span class="keyword">extends</span> <span class="title">AbstractFactory</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> AbstractProductA <span class="title">createProductA</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="keyword">return</span> <span class="keyword">new</span> ConcreteProductA1();</div><div class="line">  	&#125;</div><div class="line">  	<span class="function"><span class="keyword">public</span> AbstractProductB <span class="title">createProductB</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="keyword">return</span> <span class="keyword">new</span> ConcreteProductB1();</div><div class="line">  	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory2</span> <span class="keyword">extends</span> <span class="title">AbstractFactory</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> AbstractProductA <span class="title">createProductA</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="keyword">return</span> <span class="keyword">new</span> ConcreteProductA2();</div><div class="line">  	&#125;</div><div class="line">  	<span class="function"><span class="keyword">public</span> AbstractProductB <span class="title">createProductB</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="keyword">return</span> <span class="keyword">new</span> ConcreteProductB2();</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>场景类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">      	<span class="comment">//定义两个工厂</span></div><div class="line">    	AbstractFactory factory1 = <span class="keyword">new</span> Factory1();</div><div class="line">      	AbstractFactory factory2 = <span class="keyword">new</span> Factory2();</div><div class="line">      	<span class="comment">//产生A1、A2、B1、B2对象</span></div><div class="line">      	ConcreteProductA a1 = factory1.createProductA();</div><div class="line">      	ConcreteProductA a2 = factory2.createProductA();</div><div class="line">      	ConcreteProductB b1 = factory1.createProductB();</div><div class="line">      	ConcreteProductB b2 = factory2.createProductB();</div><div class="line">      	<span class="comment">/*</span></div><div class="line">      	* do other things....</div><div class="line">      	*/</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h4><ul>
<li>封装性好，高层模块不需要关心每个产品的实现类，只用关心抽象即接口，不需要关心对象如何被创建，这该谁负责呢？工厂类，只要知道工厂类是谁，我就能创建出一个需要的对象。</li>
<li>产品族内的约束为非公开状态。具体的产品族内的约束是在工厂内实现的。</li>
</ul>
<h4 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>最大缺点就是产品族扩展困难。增加一个产品类抽象工厂要增加一个方法，两个实现类也要修改，严重违反了开闭原则。</li>
</ul>
<h3 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h3><h4 id="适配器模式通用模版"><a href="#适配器模式通用模版" class="headerlink" title="适配器模式通用模版"></a>适配器模式通用模版</h4><p>目标角色：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Target</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">request</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//目标角色的实现类</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteTarget</span> <span class="keyword">implements</span> <span class="title">Target</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">request</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//目标角色的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>源角色（需要被包装）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Adaptee</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//原有的业务</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>适配器角色：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> <span class="keyword">extends</span> <span class="title">Adaptee</span> <span class="keyword">implements</span> <span class="title">Target</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">request</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="keyword">super</span>.doSomething();</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>场景类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">      	<span class="comment">//原有的业务</span></div><div class="line">      	Target target = <span class="keyword">new</span> ConcreteTarget();</div><div class="line">      	target.request();</div><div class="line">      	<span class="comment">//适配后的业务</span></div><div class="line">      	Target target2 = <span class="keyword">new</span> Adapter();</div><div class="line">      	target2.request();</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当需要适配多个类时，可以使用类关联。在适配器中增加一个构造器，初始化时将适配器和其他类进行关联，获取关联类保存的信息。</p>
<h4 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h4><ul>
<li>可以让两个没有任何关系的类在一起运行。</li>
<li>增加了类的透明性。</li>
<li>提高了类的复用度。</li>
<li>灵活性非常好。</li>
</ul>
<h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><h4 id="观察者模式通用模版"><a href="#观察者模式通用模版" class="headerlink" title="观察者模式通用模版"></a>观察者模式通用模版</h4><p>被观察者：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</div><div class="line">  	<span class="comment">//定义一个观察者数组</span></div><div class="line">	<span class="keyword">private</span> Vector&lt;Observer&gt; obsVector = <span class="keyword">new</span> Vector&lt;Observer&gt;();</div><div class="line">  	<span class="comment">//增加一个观察者</span></div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addObserver</span><span class="params">(Observer o)</span></span>&#123;</div><div class="line">      	obsVector.add(o);</div><div class="line">  	&#125;</div><div class="line">  	<span class="comment">//删除一个观察者</span></div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delObserver</span><span class="params">(Observer o)</span></span>&#123;</div><div class="line">      	obsVector.remove(o);</div><div class="line">  	&#125;</div><div class="line">  	<span class="comment">//通知所有观察者</span></div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="keyword">for</span>(Observer o : obsVector)&#123;</div><div class="line">          	o.update();</div><div class="line">      	&#125;</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>具体被观察者：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteSubject</span> <span class="keyword">extends</span> <span class="title">Subject</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">/*</span></div><div class="line">      	*doSomething，具体的业务</div><div class="line">      	*/</div><div class="line">      	<span class="keyword">super</span>.notifyObservers();</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>观察者：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</div><div class="line">  	<span class="comment">//收到观察者的消息后进行的业务</span></div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>具体观察者：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteObserver</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>&#123;</div><div class="line">      	<span class="comment">//收到消息后具体的动作</span></div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>场景类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</div><div class="line">  	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">      	<span class="comment">//定义一个观察者</span></div><div class="line">      	Observer obs = <span class="keyword">new</span> ConcreteObserver();</div><div class="line">      	<span class="comment">//定义一个被观察者</span></div><div class="line">      	ConcreteSubject sub = <span class="keyword">new</span> ConcreteSubject();</div><div class="line">      	<span class="comment">//观察者观察被观察者</span></div><div class="line">      	sub.addObserver(obs);</div><div class="line">      	<span class="comment">//观察者开始活动</span></div><div class="line">      	sub.doSomething();</div><div class="line">  	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>java.util中本身提供了<code>java.util.Obervable</code>和<code>java.util.Observer</code>两个接口，分别定义了被观察者和观察者两个接口，可以直接基于此实现观察者模式。</p>
<h4 id="优点-3"><a href="#优点-3" class="headerlink" title="优点"></a>优点</h4><ul>
<li>观察者和被观察者之间是抽象耦合。</li>
<li>建立一套触发机制，可以实现互相观察实现彼此触发。</li>
</ul>
<h4 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>需要考虑一下开发效率和运行效率问题，一个被观察者，多个观察者，开发和调试会比较复杂。</li>
<li>在java中消息的通知默认是顺序执行，一个观察者卡壳，会影响整体的执行效率。在这种情况下，需要考虑采用异步的方式。</li>
<li>多级触发时的效率需要考虑。</li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://dsjsoul.github.io/2017/07/02/design-pattern/" data-id="cj63w2wox0001y0tmxpxs29mo" class="article-share-link">分享</a><div class="tags"><a href="/tags/java/">java</a><a href="/tags/设计模式/">设计模式</a></div><div class="post-nav"><a href="/2017/06/26/二维数组查找/" class="next">二维数组查找</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://dsjsoul.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Emotion/">Emotion</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/">Technology</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/GitHub/" style="font-size: 15px;">GitHub</a> <a href="/tags/心情/" style="font-size: 15px;">心情</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/剑指offer/" style="font-size: 15px;">剑指offer</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/07/02/design-pattern/">常用设计模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/26/二维数组查找/">二维数组查找</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/24/caseProblem/">git文件夹大小写问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/22/github-hexo/">GitHub Pages + Hexo 搭建个人博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/21/hello-world/">Hello Blog</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/DSJsoul" title="GitHub个人主页" target="_blank">GitHub个人主页</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">Soul's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>